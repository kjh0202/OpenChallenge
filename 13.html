<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>정규표현식을 이용한 회원가입 유효성 체크</title>
	<style>
		table { border: 2px solid blue; border-collapse: collapse; }
		tr td { text-align: center; width: 10em; }
		td { border: 1px dotted green; height: 30px; }
		input { margin: 5px; }
	</style>
	<script>
		var msg = "";
		function check() {
			var idObj = document.getElementById('id');
			var pwdObj = document.getElementById('pwd');
			var pwd2Obj = document.getElementById('pwd2');
			var emailObj = document.getElementById('email');
			var mobileObj = document.getElementById('mobile');
			var id = idObj.value;
			var idRegEx = /^[a-z][a-zA-Z0-9]{7,11}$/;
			if (!idRegEx.test(id))
				msg += "ID 생성규칙 위반\n(첫글자는 소문자, 이후 영문자/숫자 사용가능하고 8~12자)\n";
			else
				msg += "ID 생성규칙 OK\n"
			var pwd = pwdObj.value;
			var pwdRegEx = /^.*(?=^.{8,12}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/;
			if (!pwdRegEx.test(pwd))
				msg += "패스워드 생성규칙 위반\n(영문자/숫자/특수문자를 1회 이상 사용하고 8~12자)\n";
			else
				msg += "패스워드 생성규칙 OK\n"
			var pwd2 = pwd2Obj.value;
			if (pwd != pwd2)
				msg += "패스워드 상이\n"
			else
				msg += "패스워드 동일\n"
			var email = emailObj.value;
			var emailRegEx = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
			if (!emailRegEx.test(email))
				msg += "eMail 생성규칙 위반\n"
			else
				msg += "eMail 생성규칙 OK\n"
			var mobile = mobileObj.value;
			var mobileRegEx = /^01\d-\d{3,4}-\d{4}$/;
			if (!mobileRegEx.test(mobile))
				msg += "핸드폰 생성규칙 위반\n"
			else
				msg += "핸드폰 생성규칙 OK\n"
			alert(msg);
		}
	</script>
</head>
<body>
	<h3>정규표현식을 이용한 회원가입 유효성 체크</h3>
	<hr>
	<table>
		<tr><th colspan="2" style="height:40px; text-align:center;">회원 가입</th></tr>
		<tr><td>아이디:</td>
				<td style="text-align:left;">
					<input type="text" id="id" size="32" placeholder="첫글자는 소문자, 이후 영문자/숫자 8~12자"></td></tr>
		<tr><td>패스워드:</td>
				<td style="text-align:left;">
					<input type="password" id="pwd" size="40" placeholder="영문자/숫자/특수문자를 1회 이상 사용하고 8~12자"></td></tr>
		<tr><td>패스워드 확인:</td>
				<td style="text-align:left;">
					<input type="password" id="pwd2" size="20" placeholder="동일한 패스워드 입력"></td></tr>
		<tr><td>이메일:</td>
				<td style="text-align:left;">
					<input type="text" id="email" size="20" placeholder="이메일 주소"></td></tr>
		<tr><td>핸드폰:</td>
				<td style="text-align:left;">
					<input type="text" id="mobile" size="20" placeholder="- 입력하세요"></td></tr>
		<tr><td colspan="2" style="height:40px;"><button onclick="check()"> 유효성 확인 </button></tr>
	</table>
</body>
</html>
